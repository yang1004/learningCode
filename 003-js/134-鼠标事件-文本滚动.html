<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>鼠标事件-文本滚动</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		.box{
			width: 400px;
			height: 400px;
			border: 1px solid #000;
			box-sizing: border-box;
			margin: 50px auto;
			overflow: hidden;
		}
		#scroll{
			position: relative;
			float: right;
			width: 30px;
			height: 400px;
			background-color: #ccc;
		}
		#box{
			position: absolute;
			left: 0;
			top: 0;
			width: 30px;
			height: 30px;
			background-color: #f00;
		}
		#content{
			position: relative;
			width: 370px;
			height: 400px;
		}
		#txt{
			position: absolute;
			left: 0;
			top: 0;
		}
	</style>
</head>
<body>
	<div class="box">
		<div id="scroll">
			<div id="box"></div>
		</div>
		<div id="content">
			<div id="txt">
				
			设备出厂不能自带谷歌全家桶，在国内市场影响不大，因为谷歌的全家桶本身就没有在国内提供，在国内市场都有BAT等巨头的软件服务覆盖替代，而在欧洲等海外市场，谷歌全家桶是刚需性应用，这些应用能不能装基本能决定用户会不会选择一款手机。

另一方面是，华为只有在开源版更新后才能进行更新，也就是说对Android系统的更新也无法第一时间跟进，因为在开源协议之外，包括华为三星等在内的诸多主流手机与谷歌都有深入的合作，包括在版本尚未发布时的系统优化与适配，提升核心应用体验确保无安全漏洞。但目前意味着华为手机的Android系统和安全性更新会被严格限制。有业内人士提到，华为如果不能第一时间拿到更新，可能会带来安全性问题，因为这意味着给攻击者提供了一个短暂的机会。

有人问，用户是否能够通过ROM手机，通过迂回的方式绕过谷歌安装GMS服务？但很显然可能还是行不通，因为任何厂商要想在手机里预置，都必须和谷歌签订GMS服务，如果没有授权，即便是用户激活后也不能安装，禁止了谷歌GMS服务，原则上是针对特定的终端可能已经关闭了数据流通接口。

对于海外的Android 手机来说，谷歌的GMS服务中的云备份与密码存储等服务是华为服务框架所能覆盖到的，但关键是谷歌的应用程序是刚需性应用——将这部分服务阉割了，基本上是将用户从主流应用程序中隔离出去，它具备无可替代的属性，没有这部分的应用程序与服务，它就相当于在国内的智能手机无法安装BAT的应用程序。

从手机行业来看，苹果可能将收割华为在海外遭谷歌断供服务之后的红利。有第三方数据显示，华为去年在海外出货达到了0.87亿，海外高端市场尤其是欧洲市场过去是苹果、三星的天下，后来是苹果三星华为三分天下，过去几年，华为在欧洲的通信业务与手机业务势头非常强劲，华为旗舰手机一般会选择在欧洲首发，足以看出华为对欧洲市场的重视。

前面说到，因为谷歌的GMS应用服务基本上是海外市场Android用户离不开的，华为在刚需性应用层面的缺失，很大程度上会推动用户选择其他厂商的手机，尤其是iPhone。从这个角度来看，谷歌限制华为，其实也为苹果在海外市场尤其是欧洲市场重拾旧山河铺好了路。

断供华为，谷歌或在分化阵营，削弱中立、不作恶的价值观

正所谓丧钟并不是为谁而鸣，由于谷歌树立了开放、中立、不作恶的价值观，这是所有Android手机禁愿意选择谷歌、倒向Android的重要原因，因为厂商相信谷歌不会将Android这种相当于水与电的基础设施单方面针对特定厂商掐断。

但是华为被限制使用谷歌GMS服务其实破坏谷歌多年来建立的开放协议与价值观。因此，其他Android厂商也开心不起来，因为厂商过去相信谷歌不会将Android这种相当于水与电的基础设施单方面针对特定厂商掐断。但现在谷歌的做法或许可以让许多厂商清醒，谷歌毕竟也是一家商业公司，它需要接受美国政府的监管与禁令，如今谷歌开了一个坏头，对华为的GMS禁令，某种程度上在加重其他厂商的危机感，因为它相当于告诉所有的Android厂商，它可以掐掉任何厂商与任何国家地区的服务。而谁也不清楚，当自己某天足够强大之后，会不会被盯上，继而在各种名义之下，限制在Android的底层服务。

不作恶一向是谷歌标榜的价值观，但是在Android手机阵营，谷歌的GMS服务本身就是垄断性的互联网基础设施存在。但迫于监管压力，谷歌此举，相当于在分化Android阵营，也在破坏它的价值观，同时削弱Android阵营的实力，伤害的是整个Android生态系统的稳定性，伤敌一千自伤八百。尤其是给谷歌Fuchsia新系统普及制造了障碍。

当初谷歌成立Android，是集合了所有Android主流厂商之力，推动Android不断成熟。而随着Android生态壮大以及深入发展，它需要集合越来越多的芯片供应商、运营商以及OEM厂商共同努力来突破瓶颈，三星与华为等巨头厂商的贡献非常重要，因为二者一直以来，已经深入参与到了整个Android系统从基础代码到最终成型的过程之中。

况且谷歌虽然是Android阵营的盟主，但却无力独自完成整个新Android系统的开发、适配，和分发工作，并且越来越依赖合作伙伴。尤其是谷歌将以Fuchsia新系统取代Android，连接包括电视机、汽车媒体系统、机电脑、家具物联和智能手机等产品。它需要更多的厂商来支持它的新系统的优化与生态完善，但当前谷歌此举，则在破坏它的开放生态，可能会影响到软硬件厂商对Fuchsia新系统的配合与信任。

也就是说，它不仅仅会动摇了开发者、手机厂商的信心，其实也弱化了用户对Android完整的应用服务体系的信任，相当于将用户也在推向苹果，也削弱了谷歌应用程序的潜在用户增量。因为Android阵营的稳定性确保了谷歌搜索、地图业务的安全性——Android相当于是谷歌搜索等核心业务的护城河，Android的阵营分化会导致谷歌的核心腹地搜索、地图等业务遭受危机。因此，Android系统与手机厂商尤其是大厂是一荣俱荣，互相依赖的。谷歌如此快速的遵守禁令做出动作显然未考虑它对Android带来的潜在的长远负面效应。

华为的B计划该如何推进？

当然，针对危机，华为此前很早就提出了其B计划，即一旦被在操作系统层面被断供，华为还有自备的操作系统，传闻该系统名为“鸿蒙”，部分已经内置于华为的手机中。华为余承东早前在接受德国《世界报》采访时正式承认，“华为确实已经准备了一套自研的操作系统，即Plan B，是为了预防未来华为不能使用 Android 或 Windows 而做的。当然，华为还是更愿意与谷歌和微软的生态系统合作。”早前也在朋友圈分享了《华为操作系统往事》一文并表示，除了自己的芯片还有操作系统的能力打造。而谷歌的Android也吸收了很多Emui的优点。

但是笔者此前也指出，华为操作系统B计划其实更多是亮出底牌与姿态，意在制衡，可能还是在于希望谷歌在对Android动心思之时能够谨慎。操作系统的难题人所共知，即华为如何能确保软硬件融合的系统体验，搞定大量应用的兼容性问题，确保系统的稳定性、安全性，如何将一个空壳平台吸引更多应用开发者进来开发软件才是关键问题。

某种程度上，华为也是一家颇有危机感的厂商，在今年P30系列国行发布会上，华为发布了“方舟编译器”，通过架构级优化，将虚拟机拿掉，应用程序在开发阶段就已经完成了编译，克服了Android基因层面的软肋，开发者在开发环境一次性的将高级语言编译为机器码，提升了执行性能，解决了安卓应用“边翻译边执行”造成的低效。目前，华为方舟编译器已经面向业界开放开源，此前有媒体报道，腾讯，阿里，360等公司或将加入华为的方舟编译器。

其实方舟编译器相当于对Android底层动刀，针对系统层面与第三方APP进行优化，目前按照华为的说法是操作流畅度提升24%，响应速度提升44%，第三方应用重新编译后流畅度可提升60%。这对于软件厂商来说也是利好。

在当前的局势下，谷歌断供华为本身也为其他手机厂商甚至软件开发者都敲响了警钟，科技无国界，但是科技公司有国界。去年动的是中兴，今年是华为，接下来是谁难以预料。国内的智能手机软硬件厂商其实有必要通力合作，而华为或许可以方舟编译器为契机，如果能够说服国内大厂开始测试并应用华为的操作系统，或许能带动一部分应用开发者将华为操作系统作为第三个系统平台作为补充，毕竟，一方面鸡蛋放多个篮子更能确保极端情况下的安全底线，而有独立的操作系统更能强化国内互联网公司与手机大厂的话语权。

从国内软硬件环境来看，当前也并不是不具备诞生独立操作系统的条件，从手机厂商来看，国产手机厂商的全球总市场份额已经占据了大头，软件生态层面更不用说，BAT等软件大厂与国内手机硬件厂商，国内本质是一个闭环的软硬件生态圈，华为如果联手国内诸多互联网大厂与硬件厂商，其实已经足以孵化出一个足够大操作系统软件生态。

关键问题是，硬件手机厂商彼此是同业竞争关系，很难让各方面打消顾虑，让各大手机厂商配合才是最难的。比如说，在智能手机初期，手机厂商之所以倒向谷歌Android而不是诺基亚塞班，理由很简单，谷歌不做手机，相对更为中立，而诺基亚是同业竞争关系，系统做大之后如何不确保在系统问题上被直接竞争对手卡脖子是所有厂商的顾虑。对于华为来说，最好是商定一种共同治理的模式，几大主力厂商各方均配备一定的投票权与话语权、以及制定各方遵守的开放协议方式来说服厂商参与。

软件厂商的顾虑或许会更少一点，在现有Android、iOS阵营之外，第三家系统平台本身来说对于应用开发者来说也是用户增量，况且华为硬件的量级即用户量也非常大。当然软件开发者也可能会考虑到一个难题，新增一个系统平台开发应用，需要增加更多的人力物力与开发、技术等资源投入，投入之后难以确保有足够的成效。

这或许应该看华为是否有更多的平衡智慧，在初期更多让利于第三方开发者，先拉入互联网大厂带动中小互联网厂商与开发者进入，与此同时，通过制定一个相对合理与开放的联盟协议机制，确保各方——软件、硬件、开发者各方的话语权、投票权与利益平衡，共建一个操作系统的共赢生态。

因为在极端环境下，无论是硬件厂商、软件开发者或许都有危机感，在这种情况下，他们对于长远利益的权衡可能要超过短期的投入成本。也可以说，在当前的局势下，华为如果真有能力推进B计划，当下也是一个相对较好的时机。通过特殊时期的试水打开口碑再慢慢普及大众市场，给谷歌施压总比收着备用好。

独立操作系统重要性笔者其实已经有过多次阐述，一个产业的长期走向如果长期受制于人，覆巢之下，焉有完卵。正如有业内人士说到，乔布斯当年如果屈从了微软，放弃了独立的OS系统，后面哪有iOS，一旦使用微软系统，当Android来时，苹果是否就得签订城下之约？人们很可能见不到苹果今日的辉煌。

我们也需要看到的是，在国产手机厂商集体进军印度市场之际，印度目前有了其自身的操作系统。2018年第一季度的统计数据显示，印度自主系统KaiOS（底层也是基于Linux）一举超越iOS成为第二大移动系统，并且这个趋势还在上升。

大家都懂的一个道理是操作系统不难，难在生态，但是操作系统成熟度与可用性是需要时间来优化的，第一步如果没有跨出去，那操作系统之梦就永远停留在口头之上。明知不可为而为之，或许更能赢得尊重。
		
			</div>
		</div>
	</div>
</body>
<script>
	var oScroll = document.getElementById('scroll');
	var oBox = document.getElementById('box');
	var oTxt = document.getElementById('txt');
	var oContent = document.getElementById('content');

	oBox.onmousedown = function(ev){
		var disX = ev.clientX - oBox.offsetLeft;
		var disY = ev.clientY - oBox.offsetTop;
		var t = 0;

		document.onmousemove = function(ev){
			t = ev.clientY-disY;
			/*
			if(t < 0){
				t = 0;
			}else if(t > oScroll.offsetHeight - oBox.offsetHeight){
				t = oScroll.offsetHeight - oBox.offsetHeight;
			}
			var num = t / (oScroll.offsetHeight - oBox.offsetHeight);
			oTxt.style.top = -(oTxt.offsetHeight-oContent.offsetHeight)*num + 'px';
			oBox.style.top = t + 'px';
			*/
			roll();
		}
		oScroll.onmousewheel = function(ev){
			// console.log(ev.wheelDelta);
			if(ev.wheelDelta<0){
				t += 10;
			}else{
				t -= 10
			}
			/*
			if(t < 0){
				t = 0;
			}else if(t > oScroll.offsetHeight - oBox.offsetHeight){
				t = oScroll.offsetHeight - oBox.offsetHeight;
			}
			var num = t / (oScroll.offsetHeight - oBox.offsetHeight);
			oTxt.style.top = -(oTxt.offsetHeight-oContent.offsetHeight)*num + 'px';
			oBox.style.top = t + 'px';
			*/
			roll();
		}
		function roll(){
			if(t < 0){
				t = 0;
			}else if(t > oScroll.offsetHeight - oBox.offsetHeight){
				t = oScroll.offsetHeight - oBox.offsetHeight;
			}
			var num = t / (oScroll.offsetHeight - oBox.offsetHeight);
			oTxt.style.top = -(oTxt.offsetHeight-oContent.offsetHeight)*num + 'px';
			oBox.style.top = t + 'px';
		}
		document.onmouseup = function(ev){
			document.onmousemove = null;
			document.onmouseup = null;
		}
		
	}
</script>
</html>